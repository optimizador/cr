{% extends "layout.html" %}
<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Dimensionamiento</title>

    <link href="{{url_for('static', filename='css/bootstrap.min.css')}}" rel="stylesheet">
    <link href="{{url_for('static', filename='font-awesome/css/font-awesome.css')}}" rel="stylesheet">
    <link href="{{url_for('static', filename='css/plugins/iCheck/custom.css')}}" rel="stylesheet">
    <link href="{{url_for('static', filename='css/animate.css')}}" rel="stylesheet">
    <link href="{{url_for('static', filename='css/style.css')}}" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/xlsx@0.15.1/dist/xlsx.full.min.js"></script>
    <link href="css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">
    
</head>

<body>

{% block content %}
        

        <div class="wrapper wrapper-content animated fadeInRight">
            <div class="row">
                
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>Dimensionamiento Containers Registry </h5>
                        
                    </div>
                    <div class="ibox-content">

                        
                               <table class="table table-striped">
                            <thead>
                            <tr>
                                <th>Dimensionamiento para ... </th>
                                <th> ... </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>GB de trafico de extraccion</td>
                                <td><input id="tr_ex" type="number"></td>
                                </tr>
                            <tr>
                                <td>GB-meses de almacenamiento</td>
                                <td><input id="mes_alm" type="number"></td>
                            </tr>
                            </tbody>
                        </table>
                            
                        <button type="button" onclick="Calc_dim();" class="btn btn-outline btn-success">Calcular dimensonamiento</button>
                        
                    </div>
                    <div id="cal">
                            
                        </div>
                </div>
                <br><br><button type="button" id="button-excel" class="btn btn-outline btn-primary">Generar Excel</button>
            </div>

            </div>
          

        </div>
        <br><br/>

    <script type="text/javascript">
        function Calc_dim(){
            tra = document.getElementById("tr_ex");
            alm = document.getElementById("mes_alm");
            calculo = 0.08*tra.value + 0.05*alm.value;
            console.log(calculo);

            document.getElementById("cal").innerHTML="<div class='col-lg-6'><div class='widget blue-bg no-padding'><div class='p-m'><h1 class='m-xs'>$"+calculo+"</h1><h3 class='font-bold no-margins'>Saldo mensual (USD)</h3></div></div><table id='simpleTable1' class='hidden'><tr><th>Componente</th><th>Precio mensual USD</th><th>Precio mensual USD</th></tr><tr><td>Container Registry</td><td>$"+calculo+"</td><td>$"+calculo+"</td></tr></table>";

        }
    </script>
    <script type="text/javascript">
        
let button = document.querySelector("#button-excel");

button.addEventListener("click", e => {
  let table = document.querySelector("#simpleTable1");
  TableToExcel.convert(table);
});
    </script>
    <script>
            function newApi(format) {
                return ExcellentExport.convert({
                    anchor: 'anchorNewApi-' + format,
                    filename: 'data_123.' + format,
                    format: format
                }, [{
                    name: 'Sheet Name Here 1',
                    from: {
                        table: 'datatable'
                    }
                }]);
            }

            function newApiArray(format) {
                return ExcellentExport.convert({
                    anchor: 'anchorNewApi-' + format + '-array',
                    filename: 'data_123.array',
                    format: format
                }, [{
                    name: 'Sheet Name Here 1',
                    from: {
                        array: [['line 1', 1234 , 'CN 你好'],
                                ['line 2', 1234.56 , 'JP こんにちは']
                        ]
                    }
                }]);
            }

            function exportSome() {
                return ExcellentExport.convert({
                    anchor: "anchorNewApi-xlsx-some",
                    filename: "somedata",
                    format: "xlsx"
                }, [{
                    name: 'Sheet number 1',
                    from: {
                        table: 'datatable'
                    },
                    filterRowFn: function(row) {
                        if (row[1] == 200) {
                            return false;
                        }
                        return true;
                    },
                    removeColumns: [1],

                }])
            }
        </script>

    <!-- Mainly scripts -->
    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

    <!-- jquery UI -->
    <script src="js/plugins/jquery-ui/jquery-ui.min.js"></script>

    <!-- Touch Punch - Touch Event Support for jQuery UI -->
    <script src="js/plugins/touchpunch/jquery.ui.touch-punch.min.js"></script>

    <!-- Custom and plugin javascript -->
    <script src="js/inspinia.js"></script>
    <script src="js/plugins/pace/pace.min.js"></script>

    <!-- iCheck -->
    <script src="js/plugins/iCheck/icheck.min.js"></script>

    <!-- Jvectormap -->
    <script src="js/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
    <script src="js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>

    <!-- Flot -->
    <script src="js/plugins/flot/jquery.flot.js"></script>
    <script src="js/plugins/flot/jquery.flot.tooltip.min.js"></script>
    <script src="js/plugins/flot/jquery.flot.resize.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/linways/table-to-excel@v1.0.4/dist/tableToExcel.js"></script>
    <script>
        $(document).ready(function(){
            var d1 = [[1262304000000, 6], [1264982400000, 3057], [1267401600000, 20434], [1270080000000, 31982], [1272672000000, 26602], [1275350400000, 27826], [1277942400000, 24302], [1280620800000, 24237], [1283299200000, 21004], [1285891200000, 12144], [1288569600000, 10577], [1291161600000, 10295]];
            var d2 = [[1262304000000, 5], [1264982400000, 200], [1267401600000, 1605], [1270080000000, 6129], [1272672000000, 11643], [1275350400000, 19055], [1277942400000, 30062], [1280620800000, 39197], [1283299200000, 37000], [1285891200000, 27000], [1288569600000, 21000], [1291161600000, 17000]];

            var data1 = [
                { label: "Data 1", data: d1, color: '#17a084'},
                { label: "Data 2", data: d2, color: '#127e68' }
            ];
            $.plot($("#flot-chart1"), data1, {
                xaxis: {
                    tickDecimals: 0
                },
                series: {
                    lines: {
                        show: true,
                        fill: true,
                        fillColor: {
                            colors: [{
                                opacity: 1
                            }, {
                                opacity: 1
                            }]
                        }
                    },
                    points: {
                        width: 0.1,
                        show: false
                    }
                },
                grid: {
                    show: false,
                    borderWidth: 0
                },
                legend: {
                    show: false
                }
            });

            var data2 = [
                { label: "Data 1", data: d1, color: '#19a0a1'}
            ];
            $.plot($("#flot-chart2"), data2, {
                xaxis: {
                    tickDecimals: 0
                },
                series: {
                    lines: {
                        show: true,
                        fill: true,
                        fillColor: {
                            colors: [{
                                opacity: 1
                            }, {
                                opacity: 1
                            }]
                        }
                    },
                    points: {
                        width: 0.1,
                        show: false
                    }
                },
                grid: {
                    show: false,
                    borderWidth: 0
                },
                legend: {
                    show: false
                }
            });

            var data3 = [
                { label: "Data 1", data: d1, color: '#fbbe7b'},
                { label: "Data 2", data: d2, color: '#f8ac59' }
            ];
            $.plot($("#flot-chart3"), data3, {
                xaxis: {
                    tickDecimals: 0
                },
                series: {
                    lines: {
                        show: true,
                        fill: true,
                        fillColor: {
                            colors: [{
                                opacity: 1
                            }, {
                                opacity: 1
                            }]
                        }
                    },
                    points: {
                        width: 0.1,
                        show: false
                    }
                },
                grid: {
                    show: false,
                    borderWidth: 0
                },
                legend: {
                    show: false
                }
            });

            $('.i-checks').iCheck({
                checkboxClass: 'icheckbox_square-green',
                radioClass: 'iradio_square-green'
            });

            $(".todo-list").sortable({
                placeholder: "sort-highlight",
                handle: ".handle",
                forcePlaceholderSize: true,
                zIndex: 999999
            }).disableSelection();

            var mapData = {
                "US": 498,
                "SA": 200,
                "CA": 1300,
                "DE": 220,
                "FR": 540,
                "CN": 120,
                "AU": 760,
                "BR": 550,
                "IN": 200,
                "GB": 120,
                "RU": 2000
            };

            $('#world-map').vectorMap({
                map: 'world_mill_en',
                backgroundColor: "transparent",
                regionStyle: {
                    initial: {
                        fill: '#e4e4e4',
                        "fill-opacity": 1,
                        stroke: 'none',
                        "stroke-width": 0,
                        "stroke-opacity": 0
                    }
                },
                series: {
                    regions: [{
                        values: mapData,
                        scale: ["#1ab394", "#22d6b1"],
                        normalizeFunction: 'polynomial'
                    }]
                }
            });
        });
    </script>

{% endblock %}

